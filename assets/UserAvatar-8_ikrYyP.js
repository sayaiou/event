import{_ as U}from"./PageContainer-3tjeRPYM.js";import{s as w,q as _,o as r,a as i,w as a,x as s,K as E,e as l,y as d,bO as S,E as b,L as h,aQ as f,bP as x,G as A,H as B,z as I}from"./index-gBctTydG.js";import{_ as R,E as z}from"./_plugin-vue_export-helper-XtHosviB.js";import{E as C}from"./el-progress-do3cGZjm.js";/* empty css                */import"./_baseClone-jxGyQpDl.js";import"./isEqual-wnGeoEc4.js";const N=t=>(A("data-v-efb2d584"),t=t(),B(),t),V=["src"],q=N(()=>I("br",null,null,-1)),F={__name:"UserAvatar",setup(t){const c=w(),n=_(),o=_(c.user.user_pic),m=u=>{const e=new FileReader;e.readAsDataURL(u.raw),e.onload=()=>{o.value=e.result}},v=async()=>{await S(o.value),await c.getUser(),b.success("头像更换成功")};return(u,e)=>{const g=h,k=C,p=z,y=U;return r(),i(y,{title:"更换头像"},{default:a(()=>[s(k,{ref_key:"uploadRef",ref:n,"auto-upload":!1,class:"avatar-uploader","show-file-list":!1,"on-change":m},{default:a(()=>[o.value?(r(),E("img",{key:0,src:o.value,class:"avatar"},null,8,V)):(r(),i(g,{key:1,class:"avatar-uploader-icon"},{default:a(()=>[s(l(f))]),_:1}))]),_:1},512),q,s(p,{type:"primary",icon:l(f),size:"large",onClick:e[0]||(e[0]=L=>n.value.$el.querySelector("input").click())},{default:a(()=>[d("选择图片")]),_:1},8,["icon"]),s(p,{type:"success",icon:l(x),size:"large",onClick:v},{default:a(()=>[d("上传头像")]),_:1},8,["icon"])]),_:1})}}},P=R(F,[["__scopeId","data-v-efb2d584"]]);export{P as default};
